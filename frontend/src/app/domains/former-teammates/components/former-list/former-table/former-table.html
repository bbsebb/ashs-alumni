<!-- Tableau des anciens coéquipiers (affiché uniquement si les données sont chargées) -->

  <table mat-table matSort  [dataSource]="dataSource" >
    <!-- Colonne Genre -->
    <ng-container matColumnDef="gender">
      <th mat-header-cell *matHeaderCellDef> Genre </th>
      <td mat-cell *matCellDef="let formerTeammate"> {{formerTeammate.gender}} </td>
    </ng-container>

    <!-- Colonne Nom (avec tri) -->
    <ng-container matColumnDef="firstName">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Rangé par nom"
        start="asc"
      >
        Nom
      </th>
      <td mat-cell *matCellDef="let formerTeammate"> {{formerTeammate.firstName}} </td>
    </ng-container>

    <!-- Colonne Prénom -->
    <ng-container matColumnDef="lastName">
      <th mat-header-cell *matHeaderCellDef> Prénom </th>
      <td mat-cell *matCellDef="let formerTeammate"> {{formerTeammate.lastName}} </td>
    </ng-container>

    <!-- Colonne Téléphone -->
    <ng-container matColumnDef="phone">
      <th mat-header-cell *matHeaderCellDef> Téléphone </th>
      <td mat-cell *matCellDef="let formerTeammate">
        <mat-icon>{{formerTeammate.phone ? 'phone':'phone_disabled'}}</mat-icon>
        <span [class.unknown]="!formerTeammate.phone">
          {{ formerTeammate.phone ?? 'Contact absent' }}
        </span>
      </td>
    </ng-container>

    <!-- Colonne Statut -->
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef> Status </th>
      <td mat-cell *matCellDef="let formerTeammate"><app-contact-status-chip [status]="formerTeammate.status"/> </td>
    </ng-container>

    <ng-container matColumnDef="view">
      <th mat-header-cell *matHeaderCellDef> </th>
      <td mat-cell *matCellDef="let formerTeammate">
        <a matIconButton  aria-label="icon button with view contact" [routerLink]="['/former-teammates', formerTeammate.id]">
          <mat-icon>visibility</mat-icon>
        </a>
      </td>
    </ng-container>
    <!-- Définition des lignes du tableau -->
    <tr mat-header-row *matHeaderRowDef="columnsToDisplayedSignal()"></tr>

    <tr
      [class]=
        "{
          'contact-status-no-requested':formerTeammate.status === 'NOT_REQUESTED',
        }"
      [routerLink]="['/former-teammates', formerTeammate.id]"

      mat-row *matRowDef="let formerTeammate; columns: columnsToDisplayedSignal(),"></tr>
    <!-- Row shown when there is no matching data. -->
    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell no-data-row" colspan="4">Aucun contact</td>
    </tr>
  </table>

  <!-- Pagination du tableau -->
  <mat-paginator [pageSize]="10" [pageSizeOptions]="[2, 10, 25]"></mat-paginator>


